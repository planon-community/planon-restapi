/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.0.1/userguide/java_library_plugin.html
 */

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java'
}

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    jcenter()

    flatDir {
        dirs 'lib'
    }
}

dependencies {
    //implementation 'com.google.code.gson:gson:2.8.6'
    implementation 'javax.ws.rs:javax.ws.rs-api:2.1.1'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'

    // Planon dependencies
    compile fileTree(dir: 'lib', include: ['*.jar'])
    
    // External dependencies
    // compile 'javax.ws.rs:javax.ws.rs-api:2.1.1'
    compile 'org.osgi:org.osgi.framework:1.10.0'
    // compile 'com.google.code.gson:gson:2.8.6'
}

configurations {
    extraLibs
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

jar {
    baseName = 'Planon-REST-API'
    version = '0.0.1'
    destinationDir = file('/Volumes/tms/upload/servicessdk')
    manifest {
        attributes (
            'Manifest-Version': '1.0',
            'Bundle-Activator': 'edu.planon.tms.rest.osgi.Activator',
            'Bundle-ClassPath': '.,lib/client.api.utils-1.0.4.jar,lib/gson-2.8.6.jar',
            'Bundle-Description': 'Planon-REST-API',
            'Bundle-ManifestVersion': '2',
            'Bundle-Name': 'Planon-REST-API',
            'Bundle-SymbolicName': 'Planon-REST-API',
            'Bundle-Version': '1.0.0.0',
            'Embedded-Artifacts': 'lib/client.api.utils-1.0.4.jar;g="com.planonsoftware.tms.lib.client";a="client.api.utils";v="1.0.4",lib/gson-2.8.6.jar;g="com.google.code.gson";a="gson";v="2.8.6"',
            'Import-Package': 'nl.planon.enterprise.service.api,nl.planon.enterprise.service.api.factory,javax.ws.rs,javax.ws.rs.core,javax.security.auth.login,nl.planon.hades.dto,nl.planon.hades.osgi.integration,nl.planon.json.server.container.services.common;version="[7.0,8)",nl.planon.util.pnlogging;version="[1.25,2)",org.osgi.framework;version="[1.5,2)",sun.misc',
            'Require-Capability': 'osgi.ee;filter:="(&(osgi.ee=JavaSE)(version=1.8))"'
        )
    }
    into('lib') {
        from 'lib'
    }
}